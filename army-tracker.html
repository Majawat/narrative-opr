<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="icon"
      type="image/png"
      href="assets/img/favicons/favicon-96x96.png"
      sizes="96x96"
    />
    <link
      rel="icon"
      type="image/svg+xml"
      href="assets/img/favicons/favicon.svg"
    />
    <link rel="shortcut icon" href="assets/img/favicons/favicon.ico" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="assets/img/favicons/apple-touch-icon.png"
    />
    <meta name="apple-mobile-web-app-title" content="OPR" />
    <link rel="manifest" href="assets/img/favicons/site.webmanifest" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <!-- <link href="assets/css/style.css" rel="stylesheet" /> -->
    <link href="assets/css/army-tracker.css" rel="stylesheet" />
    <title>Army Tracker - The Convergence Protocol</title>
  </head>
  <body>
    <header
      id="header"
      class="navbar navbar-expand-lg bd-navbar bg-body-tertiary border-bottom sticky-top"
    >
      <nav
        class="container-xxl bd-gutter flex-wrap flex-lg-nowrap"
        aria-label="Main navigation"
      >
        <div class="d-lg-none" style="width: 4.25rem"></div>
        <a class="navbar-brand d-flex align-items-center" href="index.html">
          <img
            src="assets/img/logo.webp"
            height="50"
            alt="Logo"
            id="logo"
            class="me-2 logo"
          />
          <span class="navbar-title d-none d-sm-block d-lg-none"
            >The Convergence Protocol</span
          >
        </a>

        <div class="d-flex">
          <button
            class="navbar-toggler d-flex d-lg-none order-3 p-2"
            type="button"
            data-bs-toggle="offcanvas"
            data-bs-target="#bdNavbar"
            aria-controls="bdNavbar"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
        <div
          class="offcanvas-lg offcanvas-end flex-grow-1"
          tabindex="-1"
          id="bdNavbar"
          aria-labelledby="bdNavbarOffcanvasLabel"
          data-bs-scroll="true"
        >
          <div class="offcanvas-header px-4 pb-0">
            <h5 class="offcanvas-title" id="bdNavbarOffcanvasLabel">
              The Convergence Protocol
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="offcanvas"
              aria-label="Close"
              data-bs-target="#bdNavbar"
            ></button>
          </div>

          <div class="offcanvas-body p-4 pt-0 p-lg-0">
            <hr class="d-lg-none" />
            <ul class="navbar-nav flex-row flex-wrap bd-navbar-nav">
              <li class="nav-item col-6 col-lg-auto">
                <a class="nav-link py-2 px-0 px-lg-2" href="index.html">Home</a>
              </li>
              <li class="nav-item col-6 col-lg-auto">
                <a class="nav-link py-2 px-0 px-lg-2" href="armies.html"
                  >Armies</a
                >
              </li>
            </ul>

            <hr class="d-lg-none" />
            <ul class="navbar-nav flex-row flex-wrap ms-md-auto">
              <li class="nav-item col-6 col-lg-auto">
                <a class="nav-link py-2 px-0 px-lg-2" href="rules.html"
                  >Gameplay Rules</a
                >
              </li>
              <li class="nav-item col-6 col-lg-auto">
                <a class="nav-link py-2 px-0 px-lg-2" href="random-events.html"
                  >Random Events</a
                >
              </li>

              <li class="nav-item py-2 py-lg-1 col-12 col-lg-auto">
                <div class="vr d-none d-lg-flex h-100 mx-lg-2"></div>
                <hr class="d-lg-none my-2" />
              </li>
              <li class="nav-item dropdown">
                <button
                  class="btn btn-link nav-link py-2 px-0 px-lg-2 dropdown-toggle d-flex align-items-center"
                  id="bd-theme"
                  type="button"
                  aria-expanded="false"
                  data-bs-toggle="dropdown"
                  data-bs-display="static"
                  aria-label="Toggle theme (dark)"
                >
                  <i class="bi bi-moon"></i>

                  <span class="d-lg-none ms-2" id="bd-theme-text"
                    >Toggle theme</span
                  >
                </button>
                <ul
                  class="dropdown-menu dropdown-menu-end"
                  aria-labelledby="bd-theme-text"
                >
                  <li>
                    <button
                      type="button"
                      class="dropdown-item d-flex align-items-center"
                      data-bs-theme-value="light"
                      aria-pressed="false"
                    >
                      <i class="bi bi-sun me-1 opacity-50"></i>
                      Light
                    </button>
                  </li>
                  <li>
                    <button
                      type="button"
                      class="dropdown-item d-flex align-items-center theme-change-active active"
                      data-bs-theme-value="dark"
                      aria-pressed="true"
                    >
                      <i class="bi bi-moon me-1 opacity-50"></i>
                      Dark
                    </button>
                  </li>
                  <li>
                    <button
                      type="button"
                      class="dropdown-item d-flex align-items-center"
                      data-bs-theme-value="auto"
                      aria-pressed="false"
                    >
                      <i class="bi bi-circle-half me-1 opacity-50"></i>
                      Auto
                    </button>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <div
      id="toast-container"
      class="toast-container position-fixed bottom-0 end-0 p-3"
    ></div>

    <main class="container-fluid py-4">
      <div id="loading-spinner" class="text-center py-5">
        <div class="spinner-border" role="status">
          <span class="visually-hidden">Loading army data...</span>
        </div>
        <p class="mt-3">Loading army data...</p>
      </div>

      <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="mb-0">Army Tracker</h1>
        <div class="round-controls hstack gap-3">
          <div class="round-display">
            <span class="fw-bold">Round:</span>
            <span id="current-round" class="badge bg-primary rounded-pill"
              >1</span
            >
          </div>
          <button id="start-new-round-btn" class="btn btn-success">
            <i class="bi bi-arrow-clockwise me-1"></i> Start New Round
          </button>
        </div>
      </div>

      <div id="army-header" class="mb-4">
        <!-- Army header content will be loaded here -->
      </div>

      <div id="doctrine-selection" class="mb-4">
        <!-- Doctrine selection will be loaded here -->
      </div>

      <div id="unit-cards-container">
        <!-- Unit cards will be loaded here -->
      </div>

      <!-- Debug tools - hidden in production -->
      <div
        id="debug-tools"
        class="mt-5 p-3 border rounded"
        style="display: none"
      >
        <h3>Debug Tools</h3>
        <button class="btn btn-warning" onclick="armyTracker.resetAll()">
          Reset All Data
        </button>
      </div>
    </main>

    <script src="assets/js/color-modes.js"></script>
    <script src="assets/js/army-tracker.js"></script>
    <script src="assets/js/definitions-handler.js"></script>
  </body>
</html>
