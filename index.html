<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="icon"
      type="image/png"
      href="assets/img/favicons/favicon-96x96.png"
      sizes="96x96"
    />
    <link
      rel="icon"
      type="image/svg+xml"
      href="assets/img/favicons/favicon.svg"
    />
    <link rel="shortcut icon" href="assets/img/favicons/favicon.ico" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="assets/img/favicons/apple-touch-icon.png"
    />
    <meta name="apple-mobile-web-app-title" content="OPR" />
    <link rel="manifest" href="assets/img/favicons/site.webmanifest" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css"
    />
    <link href="assets/css/style.css" rel="stylesheet" />
    <title>The Convergence Protocol</title>
  </head>
  <body style="margin-right: 0px" class>
    <header
      id="header"
      class="navbar navbar-expand-lg bd-navbar bg-body-tertiary border-bottom sticky-top"
    >
      <nav
        class="container-xxl bd-gutter flex-wrap flex-lg-nowrap"
        aria-label="Main navigation"
      >
        <div class="d-lg-none" style="width: 4.25rem"></div>
        <a class="navbar-brand d-flex align-items-center" href="index.html">
          <img
            src="assets/img/logo.webp"
            height="50"
            alt="Logo"
            id="logo"
            class="me-2 logo"
          />
          <span class="navbar-title d-none d-sm-block d-lg-none"
            >The Convergence Protocol</span
          >
        </a>

        <div class="d-flex">
          <button
            class="navbar-toggler d-flex d-lg-none order-3 p-2"
            type="button"
            data-bs-toggle="offcanvas"
            data-bs-target="#bdNavbar"
            aria-controls="bdNavbar"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
        <div
          class="offcanvas-lg offcanvas-end flex-grow-1"
          tabindex="-1"
          id="bdNavbar"
          aria-labelledby="bdNavbarOffcanvasLabel"
          data-bs-scroll="true"
        >
          <div class="offcanvas-header px-4 pb-0">
            <h5 class="offcanvas-title" id="bdNavbarOffcanvasLabel">
              The Convergence Protocol
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="offcanvas"
              aria-label="Close"
              data-bs-target="#bdNavbar"
            ></button>
          </div>

          <div class="offcanvas-body p-4 pt-0 p-lg-0">
            <hr class="d-lg-none" />
            <ul class="navbar-nav flex-row flex-wrap bd-navbar-nav">
              <li class="nav-item col-6 col-lg-auto">
                <a class="nav-link py-2 px-0 px-lg-2" href="index.html">Home</a>
              </li>
            </ul>

            <hr class="d-lg-none" />
            <ul class="navbar-nav flex-row flex-wrap bd-navbar-nav">
              <li class="nav-item col-6 col-lg-auto">
                <a
                  class="nav-link py-2 px-0 px-lg-2"
                  href="#leaderboard-section"
                  >Leaderboard</a
                >
              </li>
              <li class="nav-item col-6 col-lg-auto">
                <a class="nav-link py-2 px-0 px-lg-2" href="#story-section"
                  >Story</a
                >
              </li>
              <!-- Replace the existing mission dropdown in the header with this -->
              <li class="nav-item dropdown">
                <button
                  type="button"
                  class="btn btn-link nav-link py-2 px-0 px-lg-2 dropdown-toggle"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                  data-bs-display="static"
                  id="missions-dropdown"
                >
                  Missions
                </button>
                <ul
                  class="dropdown-menu dropdown-menu-end"
                  id="missions-nav-dropdown"
                >
                  <li>
                    <a class="dropdown-item" href="#missions-section"
                      >All Missions</a
                    >
                  </li>
                  <li><hr class="dropdown-divider" /></li>
                  <!-- Mission links will be added dynamically here -->
                </ul>
              </li>
            </ul>
            <hr class="d-lg-none" />

            <ul class="navbar-nav flex-row flex-wrap ms-md-auto">
              <li class="nav-item col-6 col-lg-auto">
                <a class="nav-link py-2 px-0 px-lg-2" href="rules.html"
                  >Gameplay Rules</a
                >
              </li>
              <li class="nav-item col-6 col-lg-auto">
                <a class="nav-link py-2 px-0 px-lg-2" href="random-events.html"
                  >Random Events</a
                >
              </li>
              <li class="nav-item col-6 col-lg-auto">
                <a class="nav-link py-2 px-0 px-lg-2" href="armies.html"
                  >Armies</a
                >
              </li>
              <hr class="d-lg-none my-2" />
              <li class="nav-item dropdown">
                <button
                  type="button"
                  class="btn btn-link nav-link py-2 px-0 px-lg-2 dropdown-toggle"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                  data-bs-display="static"
                >
                  External Links
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li>
                    <a
                      class="dropdown-item"
                      href="https://army-forge.onepagerules.com/"
                    >
                      <i
                        class="bi bi-box-arrow-up-right me-1 opacity-75"
                        role="img"
                        aria-label="external link icon"
                      ></i
                      >Army Forge
                    </a>
                  </li>
                  <li><hr class="dropdown-divider" /></li>
                  <li>
                    <a
                      class="dropdown-item"
                      href="https://cdn.prod.website-files.com/636c3b6dcdb4eb2dce722889/671a88493d3bab9a55a9e004_GF%20-%20Core%20Rules%20v3.4.1%20-%20Print%20Friendly.pdf"
                      ><i
                        class="bi bi-filetype-pdf me-1 opacity-75"
                        role="img"
                        aria-label="PDF icon"
                      ></i
                      >Core Rules v3.4.1</a
                    >
                  </li>
                  <li>
                    <a
                      class="dropdown-item"
                      href="https://cdn.prod.website-files.com/636c3b6dcdb4eb2dce722889/671a943e62a6cb93732e3371_GF%20-%20Beginner%27s%20Guide%20v3.4.1%20-%20Print-Friendly.pdf"
                      ><i
                        class="bi bi-filetype-pdf me-1 opacity-75"
                        role="img"
                        aria-label="PDF icon"
                      ></i
                      >Beginner's Guide v3.4.1</a
                    >
                  </li>
                  <li>
                    <a
                      class="dropdown-item"
                      href="https://cdn.prod.website-files.com/636c3b6dcdb4eb2dce722889/66f684dc94f97125698755b6_GF%20-%20Campaign%20Rules%20v3.4.0.pdf"
                      ><i
                        class="bi bi-filetype-pdf me-1 opacity-75"
                        role="img"
                        aria-label="PDF icon"
                      ></i
                      >Campaign Rules v3.4.0</a
                    >
                  </li>
                </ul>
              </li>

              <li class="nav-item py-2 py-lg-1 col-12 col-lg-auto">
                <div class="vr d-none d-lg-flex h-100 mx-lg-2"></div>
                <hr class="d-lg-none my-2" />
              </li>
              <li class="nav-item dropdown">
                <button
                  class="btn btn-link nav-link py-2 px-0 px-lg-2 dropdown-toggle d-flex align-items-center"
                  id="bd-theme"
                  type="button"
                  aria-expanded="false"
                  data-bs-toggle="dropdown"
                  data-bs-display="static"
                  aria-label="Toggle theme (dark)"
                >
                  <i class="bi bi-moon"></i>

                  <span class="d-lg-none ms-2" id="bd-theme-text"
                    >Toggle theme</span
                  >
                </button>
                <ul
                  class="dropdown-menu dropdown-menu-end"
                  aria-labelledby="bd-theme-text"
                >
                  <li>
                    <button
                      type="button"
                      class="dropdown-item d-flex align-items-center"
                      data-bs-theme-value="light"
                      aria-pressed="false"
                    >
                      <i class="bi bi-sun me-1 opacity-50"></i>
                      Light
                    </button>
                  </li>
                  <li>
                    <button
                      type="button"
                      class="dropdown-item d-flex align-items-center theme-change-active active"
                      data-bs-theme-value="dark"
                      aria-pressed="true"
                    >
                      <i class="bi bi-moon me-1 opacity-50"></i>
                      Dark
                    </button>
                  </li>
                  <li>
                    <button
                      type="button"
                      class="dropdown-item d-flex align-items-center"
                      data-bs-theme-value="auto"
                      aria-pressed="false"
                    >
                      <i class="bi bi-circle-half me-1 opacity-50"></i>
                      Auto
                    </button>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <div
        id="toast-container"
        class="toast-container position-fixed bottom-0 end-0 p-3"
      >
        <div
          class="toast align-items-center text-bg-primary border-0"
          role="alert"
          id="themeToast"
          aria-live="assertive"
          aria-atomic="true"
        >
          <div class="d-flex">
            <div class="toast-body"></div>
            <button
              type="button"
              class="btn-close me-2 m-auto"
              data-bs-dismiss="toast"
              aria-label="Close"
            ></button>
          </div>
        </div>
      </div>
    </header>

    <main class="container-fluid px-4 my-4">
      <section
        id="leaderboard-section"
        class="nav-scroll-top mt-4 px-md-4 px-sm-3 px-1"
      >
        <h1>Leaderboard</h1>
        <div id="basePointsDisplay">
          <p>Current Base Points: <span id="basePointsValue"></span>pts.</p>
          <p>
            We'll go up by 200pts every month, except for November, which we'll
            go up by 400pts.
          </p>
        </div>

        <div
          id="leaderboard-loading"
          class="alert alert-info d-none align-items-center"
        >
          <strong role="status">Loading leaderboard...</strong>
          <div class="spinner-border ms-auto" aria-hidden="true"></div>
        </div>
        <div id="leaderboard-error" class="alert alert-danger">
          <strong role="status">
            Error loading leaderboard, please try again later.
          </strong>
        </div>
        <div id="leaderboard-container" class="table-responsive d-flex">
          <table
            id="leaderboard-table"
            class="table table-striped table-hover table-bordered table-auto w-auto mx-auto"
          >
            <thead>
              <tr>
                <th onclick="sortTable(0)" class="sortable">Position</th>
                <th onclick="sortTable(1)" class="sortable">Player</th>
                <th onclick="sortTable(2)" class="sortable">Army</th>
                <th onclick="sortTable(3)" class="sortable sort-desc">
                  Victory<br />Points
                </th>
                <th onclick="sortTable(4)" class="sortable">Wins</th>
                <th onclick="sortTable(5)" class="sortable">Losses</th>
                <th onclick="sortTable(6)" class="sortable">
                  Special<br />Objectives<br />Completed
                </th>
                <th onclick="sortTable(7)" class="sortable">
                  Max<br />Available<br />Points
                </th>
                <th onclick="sortTable(8)" class="sortable">
                  Max<br />Underdog<br />Points
                </th>
                <th onclick="sortTable(9)" class="sortable">
                  Max<br />Command<br />Points
                </th>
              </tr>
            </thead>
            <tbody class="table-group-divider">
              <!-- Data will be populated here -->
            </tbody>
          </table>
        </div>
      </section>
      <hr />
      <section
        id="story-section"
        class="nav-scroll-top mt-4 px-md-4 px-sm-3 px-1"
      >
        <h1>Story</h1>
        <p class="px-md-4 px-sm-3 px-1">
          The ancient Axiom Network, a machine-intelligence of unfathomable
          power, has begun to awaken from its millennia-long dormancy on the
          forgotten world of Taraxis Prime. Created by a civilization that
          predates even the Aeldari, the Axiom Network contains technological
          and arcane secrets that could fundamentally alter the balance of power
          across the galaxy.
        </p>
        <p class="px-md-4 px-sm-3 px-1">
          The Robot Legion, driven by an obsession with mechanical perfection
          and perhaps guided by a deeper connection to the Network's origins,
          seeks to control this technology at any cost. However, as the Axiom
          Network stirs from its slumber, it has begun responding to the
          presence of various galactic forces, triggering reality-warping
          phenomena and corrupting the environment around its scattered nodes.
        </p>
        <p class="px-md-4 px-sm-3 px-1">
          But rumors of the Axiom Network's power continue to spread, drawing
          more attention with each passing day. Imperial forces, xenos raiders,
          chaos cultists, and other powers great and small all have reason to
          seek control of—or destroy—this ancient technology.
        </p>
        <h3>Campaign Progress</h3>
        <p class="px-md-4 px-sm-3 px-1">
          In the first phase of this galactic struggle, intelligence pointed to
          a subterranean structure on Taraxis Prime—a tomb-like complex believed
          to house a crucial component of the Axiom Network. Multiple forces
          converged on this location, fighting through the planet's hostile
          conditions to claim the prize.
        </p>
        <p class="px-md-4 px-sm-3 px-1">
          After a fierce battle among the ruins, van Louen's forces secured the
          artifact—a crystalline matrix core pulsing with otherworldly energy.
          Initial analysis suggests it functions as some form of navigational
          key, potentially revealing the locations of other Axiom Network
          components scattered across the sector.
        </p>
        <p class="px-md-4 px-sm-3 px-1">
          However, the excavation and removal of the artifact triggered a
          cascade of strange phenomena across Taraxis Prime. Gravitational
          anomalies, temporal distortions, and instances of machine-spirits
          spontaneously achieving sentience have been reported. The Axiom
          Network appears to be responding to the removal of the
          component—perhaps even tracking it.
        </p>
        <p class="px-md-4 px-sm-3 px-1">
          Following these disturbances, the matrix core led the competing forces
          to an abandoned research outpost on a storm-ravaged planet. There,
          amid violent electrical storms that disabled technology and created
          deadly terrain, the armies raced to extract another Axiom component
          locked in a central vault.
        </p>
        <p class="px-md-4 px-sm-3 px-1">
          After a chaotic battle involving ambushes, counter-ambushes, and a
          desperate chase for the component, Victoria's Wood Elves emerged
          victorious. In the final moments, an alliance between Victoria's
          forces and Cody's Ashen Pact defeated Claire's massive Hive Lord,
          allowing the Wood Elves to claim the second Axiom component. The
          artifact appears to contain encoded transmissions—possibly messages
          from entities trapped within the Axiom Network itself.
        </p>
        <p class="px-md-4 px-sm-3 px-1">
          With two components now recovered, the Axiom Network has increased its
          activity. Strange signals have begun broadcasting across multiple
          systems, some appearing to be distress calls, others warnings. The
          factions now race toward the source of these fractured signals, each
          seeking to control the ancient technology for their own purposes.
        </p>
      </section>

      <section
        id="missions-section"
        class="nav-scroll-top mt-4 px-md-4 px-sm-3 px-1"
      >
        <h1>Missions</h1>
        <div id="missions-accordion" class="accordion px-md-5 px-sm-3 px-1">
          <!-- Mission items will be loaded dynamically here -->
          <div class="text-center py-4">
            <div class="spinner-border" role="status">
              <span class="visually-hidden">Loading missions...</span>
            </div>
            <p class="mt-2">Loading mission data...</p>
          </div>
        </div>
      </section>
    </main>

    <script src="assets/js/color-modes.js" defer></script>
    <script src="assets/js/load-leaderboard.js" defer></script>
    <script src="assets/js/load-missions.js" defer></script>
    <script src="assets/js/definitions-handler.js" defer></script>
    <script src="assets/js/dice.js" defer></script>
    <script src="assets/js/index.js" defer></script>
  </body>
</html>
